<template>
    <require from="./resources/value-converters/FieldsConfigValueConverter"></require>
    <require from="./resources/value-converters/VehicleNameValueConverter"></require>

    <div>
        <form submit.delegate="generateConfig()">
            <button click.delegate="previous()"><</button>
            <span style="width: 150px; display: inline-block; text-align: center">${vehicle.id | vehicleName}</span>
            <button click.delegate="next()">></button>

            <div repeat.for="prop of vehicle | fieldsConfig">
                <!-- Input Type -->
                <label if.bind="prop.data.type !== 'select' && !prop.data.hide">
                    ${prop.data.name}
                    <input 
                        readonly.bind="prop.data.readonly"
                        disabled.bind ="prop.data.disabled"
                        pattern.bind="prop.data.pattern || '.*'"
                        maxlength.bind="prop.data.maxlength"
                        type.bind="prop.data.type || 'number'"
                        step.bind="prop.data.step || 1"
                        value.bind="vehicle[prop.key]"/>
                </label>

                <!-- Select Type -->
                <label if.bind="prop.data.type === 'select' && !prop.data.hide">
                    ${prop.data.name}
                    <select value.bind="vehicle[prop.key]">
                        <option repeat.for="option of prop.data.options" 
                            value="${option.value}">${option.name}
                        </option>
                    </select>
                </label>
            </div>

            <input type="submit" value="Parse" />
        </form>
    </div>
</template>
